(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97],{1971:(e,a,t)=>{Promise.resolve().then(t.bind(t,3126)),Promise.resolve().then(t.bind(t,3418))},3418:(e,a,t)=>{"use strict";t.d(a,{A:()=>h,AppWrapper:()=>c,U:()=>y});var r=t(5155),n=t(1712),o=t(6046),i=t(2115),l=t(814),s=t(3697);let u=(0,i.createContext)(void 0);function c(e){let{children:a}=e,[t,c]=(0,i.useState)(void 0),[y,h]=(0,i.useState)(!0),p=(0,o.useRouter)(),d=async()=>{try{h(!0);let{error:e}=await n.A.auth.signOut();if(e)throw e;return p.push("/"),!0}catch(e){return console.error("Logout error:",e),!1}finally{h(!1)}},g=async e=>{let{user_metadata:a}=e;try{h(!0),c(e=>({...e,user_metadata:a}))}catch(e){throw l.o.error("Sorry, something wrong happened. Please try again."),e}finally{h(!1)}},f=()=>{let e=localStorage.getItem("user");if(e)return c(JSON.parse(e));let a=(0,s.A)(),t={id:a,app_metadata:{},user_metadata:{display_name:function(){let e=["quick","lazy","sleepy","noisy","hungry","brave","shy","clever","silly","graceful","curious","gentle","happy","sad","angry","proud","bright","dark","silent","fancy","cool","calm","bold","friendly","loyal","eager","zany","witty","sharp","quiet","tough","kind","nervous","funny","crazy","jolly","grumpy","sneaky","bouncy","chilly","fierce","soft","wild","tiny","giant","nimble","swift","clumsy","dizzy","mighty"],a=e=>e[Math.floor(Math.random()*e.length)];return"".concat(a(e),"-").concat(a(e),"-").concat(a(["tiger","lion","bear","fox","eagle","shark","dragon","panther","wolf","leopard","owl","koala","zebra","moose","falcon","whale","octopus","penguin","crab","phoenix","rabbit","giraffe","monkey","donkey","swan","buffalo","beetle","rhino","lobster","antelope","camel","duck","lizard","panda","squid","bat","yak","boar","sloth","iguana","seahorse","crow","goat","chimp","cobra","flamingo","porcupine","puma","toad","hyena"]))}()},aud:a,created_at:new Date().toISOString()};localStorage.setItem("user",JSON.stringify(t)),c(t)};return((0,i.useEffect)(()=>{(async()=>{h(!0);try{let{data:e}=await n.A.auth.getSession();if(!(null==e?void 0:e.session)){f(),h(!1);return}let{data:a,error:t}=await n.A.auth.getUser();if(t)throw t;(null==a?void 0:a.user)&&c(a.user)}catch(e){console.error("Error fetching user:",e)}finally{h(!1)}})()},[]),y)?(0,r.jsx)(r.Fragment,{children:"Loading..."}):(0,r.jsx)(u.Provider,{value:{user:t,loading:y,setUser:c,setLoading:h,saveUser:g,logout:d},children:a})}function y(){let e=(0,i.useContext)(u);if(void 0===e)throw Error("useAppContext must be used within an AppWrapper");return e}let h=y},1712:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(5974).UU)("https://qijhglvyquvxciafqpns.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFpamhnbHZ5cXV2eGNpYWZxcG5zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA1NzQyMDgsImV4cCI6MjA1NjE1MDIwOH0.7OP-83Kwrm02SOvzy-rAsbk7w4uadFyy6MZ7cC2Tojk")}},e=>{var a=a=>e(e.s=a);e.O(0,[914,126,441,517,358],()=>a(1971)),_N_E=e.O()}]);