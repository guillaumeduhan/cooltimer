(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97],{1971:(e,a,r)=>{Promise.resolve().then(r.bind(r,3126)),Promise.resolve().then(r.bind(r,3418))},3418:(e,a,r)=>{"use strict";r.d(a,{A:()=>y,AppWrapper:()=>d,U:()=>h});var t=r(5155),o=r(4814),n=r(1712),i=r(6046),l=r(2115),s=r(814),c=r(3697);let u=(0,l.createContext)(void 0);function d(e){let{children:a}=e,[r,d]=(0,l.useState)(void 0),[h,y]=(0,l.useState)(!0),p=(0,i.useRouter)(),g=async()=>{try{y(!0);let{error:e}=await n.A.auth.signOut();if(e)throw e;return p.push("/"),!0}catch(e){return console.error("Logout error:",e),!1}finally{y(!1)}},f=async e=>{let{user_metadata:a}=e;try{y(!0),d(e=>({...e,user_metadata:a}))}catch(e){throw s.o.error("Sorry, something wrong happened. Please try again."),e}finally{y(!1)}},b=()=>{let e=localStorage.getItem("user");if(e)return d(JSON.parse(e));let a=(0,c.A)(),r={id:a,app_metadata:{},user_metadata:{display_name:function(){let e=["quick","lazy","sleepy","noisy","hungry","brave","shy","clever","silly","graceful","curious","gentle","happy","sad","angry","proud","bright","dark","silent","fancy","cool","calm","bold","friendly","loyal","eager","zany","witty","sharp","quiet","tough","kind","nervous","funny","crazy","jolly","grumpy","sneaky","bouncy","chilly","fierce","soft","wild","tiny","giant","nimble","swift","clumsy","dizzy","mighty"],a=e=>e[Math.floor(Math.random()*e.length)];return"".concat(a(e),"-").concat(a(e),"-").concat(a(["tiger","lion","bear","fox","eagle","shark","dragon","panther","wolf","leopard","owl","koala","zebra","moose","falcon","whale","octopus","penguin","crab","phoenix","rabbit","giraffe","monkey","donkey","swan","buffalo","beetle","rhino","lobster","antelope","camel","duck","lizard","panda","squid","bat","yak","boar","sloth","iguana","seahorse","crow","goat","chimp","cobra","flamingo","porcupine","puma","toad","hyena"]))}()},aud:a,created_at:new Date().toISOString()};localStorage.setItem("user",JSON.stringify(r)),d(r)};return((0,l.useEffect)(()=>{(async()=>{y(!0);try{let{data:e}=await n.A.auth.getSession();if(!(null==e?void 0:e.session)){b(),y(!1);return}let{data:a,error:r}=await n.A.auth.getUser();if(r)throw r;(null==a?void 0:a.user)&&d(a.user)}catch(e){console.error("Error fetching user:",e)}finally{y(!1)}})()},[]),h)?(0,t.jsx)("div",{className:"h-screen w-full bg-",children:(0,t.jsx)(o.A,{})}):(0,t.jsx)(u.Provider,{value:{user:r,loading:h,setUser:d,setLoading:y,saveUser:f,logout:g},children:a})}function h(){let e=(0,l.useContext)(u);if(void 0===e)throw Error("useAppContext must be used within an AppWrapper");return e}let y=h},4814:(e,a,r)=>{"use strict";r.d(a,{A:()=>o});var t=r(5155);r(2115);let o=e=>{let{width:a=36,height:r=36,alt:o="Logo"}=e;return(0,t.jsx)("div",{className:"rounded overflow-hidden",style:{width:"".concat(a,"px"),height:"".concat(r,"px"),backgroundImage:'url("/icons/512.png")',backgroundSize:"cover",backgroundPosition:"center",overflow:"hidden"},"aria-label":o})}},1712:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(5974).UU)("https://qijhglvyquvxciafqpns.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFpamhnbHZ5cXV2eGNpYWZxcG5zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA1NzQyMDgsImV4cCI6MjA1NjE1MDIwOH0.7OP-83Kwrm02SOvzy-rAsbk7w4uadFyy6MZ7cC2Tojk")}},e=>{var a=a=>e(e.s=a);e.O(0,[914,126,441,517,358],()=>a(1971)),_N_E=e.O()}]);